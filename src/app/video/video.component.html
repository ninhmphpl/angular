<div>
  <div class="input-group-text">
    <input #files type="file" class="form-control" multiple accept="video/*">
    <button class="btn btn-secondary" (click)="upload(files.files)">Upload</button>
  </div>
  <div *ngIf="uploadList.length > 0">
    <table class="table table-striped">
      <thead>
      <tr>
        <th>Name</th>
        <th>Percent</th>
      </tr>
      </thead>
      <tbody>
      <tr *ngFor="let upload of uploadList; let id = index">
        <td>{{upload.name}}</td>
        <td>{{upload.percent + '%'}}</td>
      </tr>
      </tbody>
    </table>
  </div>
  <div class="p-3">
    <table class="table table-striped">
      <thead>
      <tr>
        <th>Id</th>
        <th>Top</th>
        <th>Show</th>
        <th>Thumb</th>
        <th>Audio</th>
        <th>Name</th>
        <th>Description</th>
        <th>Type Video</th>
        <th>Music</th>
        <th>Action</th>
      </tr>
      </thead>
      <tbody>
      <tr *ngFor="let video of videos ; let i = index">
        <td>{{i}}</td>
        <td><input type="number" style="width: 50px" [(ngModel)]="video.top" (change)="save(i)"></td>
        <td><input type="checkbox" [(ngModel)]="video.show" (change)="save(i)"></td>
        <td>
          <input type="file" #thumb hidden="hidden" (change)="upThumb(i, thumb.files)">
          <img [src]="video.thumb" style="width: 30px; height: 70px" class="img-thumbnail" alt="">
          <button class="btn btn-secondary" (click)="thumb.click()" >
            Change
            <span *ngIf="video.thumbPercent">{{'(' + video.thumbPercent + '%)'}}</span>
          </button>
        </td>
        <td><video style="height: 70px; width: 100px;" [src]="video.url" controls></video></td>
        <td><input class="form-control" type="text" [(ngModel)]="video.name" (change)="save(i)"></td>
        <td><input class="form-control" type="text" [(ngModel)]="video.description" (change)="save(i)"></td>
        <td><select [(ngModel)]="video.videoType.id" (change)="save(i)">
          <option *ngFor="let t of type ; let it = index" [value]="t.id">{{t.name}}</option>
        </select></td>
        <td><select [(ngModel)]="video.music.id" (change)="save(i)" style="width: 100px">
          <option *ngFor="let m of musicService.musics ; let it = index" [value]="m.id">{{m.name}}</option>
        </select></td>
        <td>
          <button class="btn btn-warning" (click)="save(i)">Save</button>
          <button class="btn btn-danger" (click)="delete(i)">Delete</button>
        </td>
      </tr>
      </tbody>
    </table>
  </div>
</div>




