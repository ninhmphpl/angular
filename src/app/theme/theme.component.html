<div class="position-fixed bottom-0">
  <audio #audioTab controls></audio>
</div>

<div class="bg-light border p-2">
  <p>Add new</p>
  <table>
    <tr>
      <td class="input-group mb-3">
        <label class="input-group-text" for="CreateFileBackground">Back ground</label>
        <input  #CreateFileBackground id="CreateFileBackground" type="file" class="form-control">
      </td>
    </tr>
    <tr>
      <td class="input-group mb-3">
        <label class="input-group-text" for="CreateFileAvatar">Avatar</label>
        <input #CreateFileAvatar id="CreateFileAvatar" type="file" class="form-control">
      </td>
    </tr>
    <tr>
      <td class="input-group mb-3">
        <label class="input-group-text" for="CreateFileRingStone">Ring stone</label>
        <input #CreateFileRingStone id="CreateFileRingStone" type="file" class="form-control">
      </td>
    </tr>
    <tr>
      <td class="input-group mb-3">
        <label class="input-group-text" for="CreateFileCallIconAccept">Access Call Icon</label>
        <input #CreateFileCallIconAccept id="CreateFileCallIconAccept" type="file" class="form-control">
      </td>
    </tr>
    <tr>
      <td class="input-group mb-3">
        <label class="input-group-text" for="CreateFileCallIconDeny">Deny Call Icon</label>
        <input #CreateFileCallIconDeny id="CreateFileCallIconDeny" type="file" class="form-control">
      </td>
    </tr>
    <tr>
      <td class="input-group mb-3">
        <label class="input-group-text" for="CreateFileCallIconAcceptJson">Access Call Icon Json</label>
        <input #CreateFileCallIconAcceptJson id="CreateFileCallIconAcceptJson" type="file" class="form-control">
      </td>
    </tr>
    <tr>
      <td class="input-group mb-3">
        <label class="input-group-text" for="CreateFileCallIconDenyJson">Deny Call Icon Json</label>
        <input #CreateFileCallIconDenyJson id="CreateFileCallIconDenyJson" type="file" class="form-control">
      </td>
    </tr>
    <tr>
      <td class="input-group input-group-sm mb-3">
        <span class="input-group-text">Call Icon type</span>
        <select class="form-select" #createCallIconType>
          <option *ngFor="let type of types" [value]="type.name" [innerText]="type.name"></option>
        </select>
      </td>
      <td>
        <div class="input-group input-group-sm mb-3">
          <span class="input-group-text">Make new type</span>
          <input class="form-control" #createNewCallIconType type="text">
          <button class="btn-primary btn" (click)="saveCallIconType({name : createNewCallIconType.value})">
            Create
          </button>
        </div>

      </td>
    </tr>
    <tr>
      <td class="input-group input-group-sm mb-3">
        <span class="input-group-text">Category</span>
        <select class="form-select" #createCategory>
          <option *ngFor="let category of categories" [value]="category.category"
                  [innerText]="category.category"></option>
        </select>
      </td>

    </tr>
    <tr>
      <td class="input-group input-group-sm mb-3">
        <span class="input-group-text">Note</span>
        <input class="form-control" #note type="text"></td>
    </tr>
    <tr>
      <td class="input-group input-group-sm mb-3">
        <span class="input-group-text">Title</span>
        <input class="form-control" #title type="text"></td>
    </tr>
    <tr>
      <td class="input-group input-group-sm mb-3">
        <span class="input-group-text">Name</span>
        <input class="form-control" #name type="text"></td>
    </tr>
    <tr>
      <td>
        <button class="btn-sm btn-primary btn text-end" (click)="save(
        {note : note.value, title : title.value, categories : createCategory.value, name : name.value, call_icon : {type : createCallIconType.value}},
       CreateFileAvatar.files,
       CreateFileRingStone.files,
       CreateFileBackground.files,
       CreateFileCallIconDeny.files,
       CreateFileCallIconAccept.files,
       CreateFileCallIconDenyJson.files,
       CreateFileCallIconAcceptJson.files)">Create
        </button>
      </td>
    </tr>
  </table>
</div>


<div>
  <table class="table table-striped">
    <thead>
      <tr>
        <th>Background</th>
        <th>Avatar</th>
        <th>Avatar</th>
        <th>Accept</th>
        <th>Deny</th>
        <th>Json upload</th>
        <th>Detail item</th>
        <th>Ring Stone</th>
        <th>Action</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let theme of list; let themeIndex = index">
      <td [innerText]="theme.id"></td>
      <td class="col-1">
        <img class="img-thumbnail" [src]="theme.backGround">
        <input type="file" class="d-none" #updateFileBackground>
        <button class="btn-sm btn-primary btn w-100" (click)="updateFileBackground.click()">Upload File</button>
      </td>
      <td class="col-1">
        <img class="img-thumbnail" [src]="theme.avatar">
        <input type="file" class="d-none" #updateFileAvatar>
        <button class="btn-sm btn-primary btn btn w-100" (click)="updateFileAvatar.click()">Upload File</button>
      </td>
      <td class="col-1">
        <img class="img-thumbnail" [src]="theme.call_icon.accept">
        <input type="file" class="d-none" #updateFileCallIconAccept>
        <button class="btn-sm btn-primary btn btn w-100" (click)="updateFileCallIconAccept.click()">Upload File</button>
      </td>
      <td class="col-1">
        <img class="img-thumbnail" [src]="theme.call_icon.deny">
        <input type="file" class="d-none" #updateFileCallIconDeny>
        <button class="btn-sm btn-primary btn btn w-100" (click)="updateFileCallIconDeny.click()">Upload File</button>
      </td>
      <td class="col-2">
        <input type="file" class="d-none" #updateFileCallIconAcceptJson>
        <button class="btn-sm btn-primary btn btn w-100 my-2" (click)="updateFileCallIconAcceptJson.click()">Update Accept
          Call Icon Json
        </button>
        <input type="file" class="d-none" #updateFileCallIconDenyJson>
        <button class="btn-sm btn-primary btn btn w-100 my-2" (click)="updateFileCallIconDenyJson.click()">Update Deny Call
          Icon Json
        </button>
      </td>
      <td>
        <div class="input-group input-group-sm mb-3">
          <span class="input-group-text">Note</span>
          <input id="update-note" placeholder="note" class="form-control" type="text" [(ngModel)]="theme.note">
        </div>
        <div class="input-group input-group-sm mb-3">
          <span class="input-group-text">Title</span>
          <input id="update-title" placeholder="title" class="form-control" type="text" [(ngModel)]="theme.title">
        </div>
        <div class="input-group input-group-sm mb-3">
          <span class="input-group-text">Name</span>
          <input id="update-name" placeholder="name" class="form-control" type="text" [(ngModel)]="theme.name">
        </div>
        <div class="input-group input-group-sm mb-3">
          <span class="input-group-text">Update category</span>
          <select class="form-select" id="update-category" [(ngModel)]="theme.category">
            <option *ngFor="let category of categories" [value]="category.category"
                    [innerText]="category.category"></option>
          </select>
        </div>
        <div class="input-group input-group-sm mb-3">
          <span class="input-group-text">Call Icon Type</span>
          <select class="form-select" id="icon-type" [(ngModel)]="theme.call_icon.type">
            <option *ngFor="let type of types" [value]="type.name" [innerText]="type.name"></option>
          </select>
        </div>
      </td>
      <td>
        <button class="btn-sm btn-primary btn btn w-100 my-2" (click)="audioTab.src = theme.ringstone_url; ">Play</button>
        <button class="btn-sm btn-primary btn btn w-100 my-2" (click)="updateFileRingStone.click()">Upload File</button>
        <input class="d-none" type="file" #updateFileRingStone>
      </td>
      <td>
        <button class="btn-sm btn-primary btn btn w-100 my-2" (click)="save(theme,
      updateFileAvatar.files,
       updateFileRingStone.files,
       updateFileBackground.files,
       updateFileCallIconDeny.files,
       updateFileCallIconAccept.files,
       updateFileCallIconDenyJson.files,
       updateFileCallIconAcceptJson.files
      )">Save
        </button>
        <button class="btn-sm btn-primary btn btn w-100 my-2" (click)="delete(theme.id)">Delete</button>
      </td>
    </tr>
    </tbody>
  </table>
</div>
