<div class="container ">
  <table class="table table-bordered table-hover m-2 shadow-sm">
    <thead>
    <tr>
      <td colspan="11">
        <div  class="row px-2">
          <button class="btn btn-primary col" (click)="api.createTrending()">Create Trending</button>
          <div class="col">
            <app-upload-multiple [buttonName]="'Create Trending Multiple'" (dataEvent)="api.createTrendingByUrl($event)"></app-upload-multiple>
          </div>
          <select class="form-select col" [(ngModel)]="api.group" (change)="api.getTrending()">
            <option [ngValue]="undefined">All</option>
            <option value="boy-friend">Boy Friend</option>
            <option value="girl-friend">Girl Friend</option>
            <option value="trending">Trending</option>
            <option value="twin">Twin</option>
            <option value="end2023">End 2023</option>
            <option value="start2024">Start 2024</option>
          </select>
        </div>

      </td>
    </tr>
    <tr>
      <th>Video</th>
      <th>Thumb</th>
      <th>Name</th>
      <th>Description</th>
      <th>Top</th>
      <th>Like</th>
      <th>Show</th>
      <th>Trending Type</th>
      <th>Music</th>
      <th>Group</th>
      <th>Delete</th>
    </tr>
    </thead>
    <tbody>
    <tr *ngFor="let trending of api.trendings let i = index">
      <td><app-upload-cloud-flare [imgWith]="'100px'" [imgHeight]="'150px'" [type]="'video'" [img]="trending.url" (dataEvent)="trending.url = $event; api.updateTrending(i)"></app-upload-cloud-flare></td>
      <td><app-upload-cloud-flare [img]="trending.thumb" (dataEvent)="trending.thumb = $event; api.updateTrending(i)"></app-upload-cloud-flare></td>
      <td><input class="form-control" style="width: 100px" type="text" [(ngModel)]="trending.name" (change)="api.updateTrending(i)"></td>
      <td><input class="form-control" style="width: 100px" type="text" [(ngModel)]="trending.description" (change)="api.updateTrending(i)"></td>
      <td><input class="form-control" style="width: 100px" type="number" [(ngModel)]="trending.top" (change)="api.updateTrending(i)"></td>
      <td><input class="form-control" style="width: 100px" type="number" [(ngModel)]="trending.like" (change)="api.updateTrending(i)"></td>
      <td><input class="form-check-input" type="checkbox" [(ngModel)]="trending.show" (change)="api.updateTrending(i)"></td>
      <td>
        <select class="form-select" [(ngModel)]="trending.trendingType" (change)="api.updateTrending(i)">
          <option [hidden]="true" [ngValue]="trending.trendingType">{{(trending.trendingType)?trending.trendingType.name:"none"}}</option>
          <option [ngValue]="undefined">None</option>
          <option *ngFor="let trendingType of api.trendingTypes" [ngValue]="trendingType">{{trendingType.name}}</option>
        </select>
      </td>
      <td>

        <select class="form-select" [(ngModel)]="trending.music" (change)="api.updateTrending(i)">
          <option [hidden]="true" [ngValue]="undefined">None</option>
          <option [ngValue]="trending.music">{{(trending.music)?trending.music:"none"}}</option>
          <option *ngFor="let music of api.musics" [ngValue]="music">{{music.name}}</option>
        </select>
      </td>
      <td>
        <select class="form-select"  [(ngModel)]="trending.group" (change)="api.updateTrending(i)">
          <option value="boy-friend">Boy Friend</option>
          <option value="girl-friend">Girl Friend</option>
          <option value="trending">Trending</option>
          <option value="twin">Twin</option>
          <option value="end2023">End 2023</option>
          <option value="start2024">Start 2024</option>
        </select>
      </td>
      <td><button class="btn btn-danger" (click)="api.deleteTrending(i)">Delete</button></td>
    </tr>
    </tbody>
  </table>
</div>

